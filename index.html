<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Ticker</title>
    <style>
        #ticker-container {
            width: 100%;
            overflow: hidden;
            background: linear-gradient(90deg, #003366, #0066cc); /* Blue gradient */
            padding: 10px;
            border-radius: 10px;
        }

        #ticker {
            font-size: 24px;
            font-weight: bold;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            display: inline-block;
            animation: scrollTicker 10s linear infinite;
        }

        .alert {
            color: red;  /* For severe alerts */
            font-weight: bold;
            text-shadow: 0 0 10px red;
        }

        /* Scrolling animation */
        @keyframes scrollTicker {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(-100%);
            }
        }
    </style>
</head>
<body>
    <div id="ticker-container">
        <div id="ticker">üå§Ô∏è Loading weather data...</div>
    </div>

    <script>
        // Fetch severe weather alerts
        fetch('https://api.weather.gov/alerts/active')
            .then(response => response.json())
            .then(data => {
                let alerts = data.features;
                let alertText = 'No active alerts.';

                // Filter for specific alert types (Severe Thunderstorm, Tornado Warnings, Tornado Emergencies)
                let filteredAlerts = alerts.filter(alert => {
                    return (
                        alert.properties.event === 'Severe Thunderstorm Warning' ||
                        alert.properties.event === 'Tornado Warning' ||
                        alert.properties.event === 'Tornado Emergency'
                    );
                });

                if (filteredAlerts.length > 0) {
                    alertText = '‚ö†Ô∏è Severe Alerts: ';
                    filteredAlerts.forEach(alert => {
                        alertText += `${alert.properties.headline} | `;
                    });

                    // Add alert class to apply special styling
                    document.getElementById('ticker').classList.add('alert');
                } else {
                    // Remove alert class if there are no matching alerts
                    document.getElementById('ticker').classList.remove('alert');
                }

                // Update the ticker with filtered alerts
                document.getElementById('ticker').textContent = alertText;
            })
            .catch(error => {
                console.error('Error fetching weather alerts:', error);
                document.getElementById('ticker').textContent = 'Error fetching alerts.';
            });
    </script>
</body>
</html>
